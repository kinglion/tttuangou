<!--{template @admin/header}-->
{~ui('loader')->js('#admin/js/sdb.parser')}
<table cellspacing="1" cellpadding="4" width="100%" align="center" class="tableborder"> <tr class="header"> <td colspan="6">çŸ­ä¿¡æœåŠ¡å™¨é€šé“åˆ—è¡¨</td> </tr> <tr class="banner"> <td colspan="6">
æ˜¯å¦å¼€å¯è‡ªåŠ¨é‡å‘åŠŸèƒ½ï¼Ÿ
<font class="ini" src="service.sms.autoERSend"></font>
[ å¼€å¯åç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹çŸ­ä¿¡ä¸­çš„æ•æ„Ÿè¯ï¼Œè‡ªåŠ¨ç”¨ç©ºæ ¼é—´éš”å¼€å¹¶é‡å?]
</td> </tr> <tr class="banner"> <td colspan="6">
æ˜¯å¦å¼€å¯å¿«é€Ÿå‘é€åŠŸèƒ½ï¼Ÿ
<font class="ini" src="service.sms.fastsend"></font>
[ å¼€å¯åçŸ­ä¿¡ä¼šå³æ—¶æäº¤åˆ°çŸ­ä¿¡ç½‘å…³ï¼?b style="color:red;">åŒè®¢å•è´­ä¹°å¤šä¸ªå›¢è´­åˆ¸æœ‰å¯èƒ½å› ä¸ºç½‘ç»œåŸå› é€ æˆå›¢è´­åˆ¸å°‘ç”Ÿæˆçš„é—®é¢˜ï¼Œè°¨æ…å¯ç”¨</b> ]
</td> </tr> <tr class="banner"> <td colspan="6">
æ˜¯å¦å¼€å¯å¤šçº¿ç¨‹å‘é€ï¼Ÿ
<font class="ini" src="service.push.mthread"></font>
[ æé†’ï¼šå¤šçº¿ç¨‹å‘é€ä¼šç»™æœåŠ¡ç«¯é€ æˆå¾ˆå¤§çš„å‹åŠ›ï¼ˆçŸ­ä¿¡é˜Ÿåˆ—å¡ä½çš„æ—¶å€™å»ºè®®å¼€å¯ï¼‰ ]
</td> </tr> <tr class="tr_nav"> <td width="5%" bgcolor="#F4F8FC">ç¼–å·</td> <td width="12%" bgcolor="#F4F8FC">åç§°</td> <td width="30%" bgcolor="#F4F8FC">è¯´æ˜ï¼ˆæ‰€æœ‰é€šé“å‡æ”¯æŒé•¿çŸ­ä¿¡ï¼ï¼‰</td> <td width="16%" bgcolor="#F4F8FC">ä½¿ç”¨æ¬¡æ•° <a href="#help" onclick="show_counter_help();return false;" style="color:red;">#è¯´æ˜#</a></td> <td width="16%" bgcolor="#F4F8FC">å¯ç”¨çŠ¶æ€?/td> <td width="12%" align="center" bgcolor="#F4F8FC">ç®¡ç†</td> </tr> <!--{loop $list $one}--> <tr> <td>{$one['id']}</td> <td>{$one['name']}</td> <td>{$drivers[$one['flag']]['intro']}</td> <td>{$one['count']}</td> <td> <font class="dbf" src="id:{$one['id']}@service/enabled">{$one['enabled']}</font>
{if $one['enabled'] == 'true'}
<font class="status" title="{$one['id']}"></font>
{/if}
</td> <td align="center">
[ <a href="?mod=service&code=sms&op=edit&id={$one['id']}">è®¾ç½®</a> ]
<br/>
[ <a href="index.php?mod=apiz&code=sms&op=ServerTest&flag={$one['flag']}">é€šé“æ£€æµ?/a> ]
</td> </tr> <!--{/loop}--> <tr class="tips"> <td colspan="6">
æç¤ºï¼šå¼€å¯å¤šä¸ªé€šé“çš„æ—¶å€™ç³»ç»Ÿä¼šè‡ªåŠ¨éšæœºé€‰æ‹©ä¸€æ¡é€šé“è¿›è¡Œå‘é€ï¼ï¼?font color="red">è®¢é˜…ç¾¤å‘æ—¶å»ºè®®å…³é—­ç”µä¿¡é€šé“</font>ï¼?
</td> </tr> <tr> <td colspan="6">
è¾“å…¥æ‰‹æœºå·ç ï¼?input id="phone" type="text" />
è¾“å…¥çŸ­ä¿¡å†…å®¹ï¼?input id="content" type="text" value="æ„Ÿè°¢è´­ä¹°å¿—æ‰¬äº’åŠ¨ç³»ç»Ÿï¼Œåˆ¸å·XXXXXXå¯†ç XXXXXè¿‡æœŸ201XXXXXå•†å®¶æ­å·ç¥è¯ï¼Œå®¢æœQ-Q800058566" size="70" /> <input type="button" value="å‘é€æµ‹è¯•çŸ­ä¿? onclick="javascript:smsTest();" class="is_submit_button" /> </td> </tr> <tr class="banner"> <td colspan="6"><b>çŸ­ä¿¡å‰©ä½™é‡é¢„è­?/b> <a href="#setting_toggle" onclick="$('#sms_w_config').toggle();return false;">:: è®¾ç½® ::</a></td> </tr> <tr id="sms_w_config" style="display: none;"> <td colspan="6">
{eval $list = array_merge(array(array('id' => 0, 'name' => '--åœç”¨é¢„è­¦--')), $list);}
é’ˆå¯¹ <select id="smsw_driver">{loop $list $one}<option value="{$one['id']}" {if $one['id'] == (int)$smsw['serviceID']} selected="selected"{/if}>{$one['name']}</option>{/loop}</select>
æ¯éš” <input id="smsw_interval" type="text" value="{$smsw['interval']}" size="1" /> å°æ—¶è‡ªåŠ¨æ£€æŸ¥ä¸€æ¬?
å½“çŸ­ä¿¡å‰©ä½™ä¸è¶?<input id="smsw_surplus" type="text" value="{$smsw['surplus']}" size="2" /> æ¡æ—¶
å‘é€æŠ¥è­¦çŸ­ä¿¡åˆ°æ‰‹æœº <input id="smsw_phone" type="text" value="{$smsw['phone']}" /> <input id="smsw_save" type="button" class="wbutton" value="ä¿å­˜è®¾ç½®" /> <input id="smsw_test" type="button" class="wbutton" value="å‘é€æµ‹è¯? /> </td> </tr> </table> <a href="?mod=push&code=log&type=sms" class="back1 back2">çŸ­ä¿¡æ—¥å¿— </a> <script type="text/javascript">
function smsTest()
{
window.location = '?mod=service&code=sms&op=test&phone='+document.getElementById('phone').value+'&content='+encodeURIComponent(document.getElementById('content').value);
}
$(document).ready(function(){
$('#smsw_save').bind('click', smsw_save);
$('#smsw_test').bind('click', smsw_test); 
});
function smsw_save()
{
$.notify.loading('æ­£åœ¨ä¿å­˜...');
var arg = '';
arg += '&driver='+$('#smsw_driver').val();
arg += '&interval='+$('#smsw_interval').val();
arg += '&surplus='+$('#smsw_surplus').val();
arg += '&phone='+$('#smsw_phone').val();
$.get('?mod=service&code=smsw&op=save'+arg+$.rnd.stamp(), function(data){
$.notify.loading(false);
if (data == 'ok')
{
$('#sms_w_config').hide();
$.notify.success('ä¿å­˜æˆåŠŸï¼?);
}
else
{
$.notify.failed('ä¿å­˜å¤±è´¥ï¼?hr/>'+data);
}
});
}
function smsw_test()
{
if (!confirm('å¦‚æœæ‚¨ä¿®æ”¹äº†è®¾ç½®ï¼Œè¿›è¡Œæµ‹è¯•å‰è¯·å…ˆç¡®è®¤æ‚¨å·²ç»ä¿å­˜ï¼')) return;
$.notify.loading('æ­£åœ¨å‘é€æµ‹è¯•çŸ­ä¿?..');
$.get('?mod=service&code=smsw&op=test'+$.rnd.stamp(), function(data){
$.notify.loading(false);
if (data == 'ok')
{
$.notify.success('å‘é€æˆåŠŸï¼');
}
else
{
$.notify.failed('å‘é€å¤±è´¥ï¼<hr/>'+data);
}
});
}
function show_counter_help()
{
art.dialog({
title: 'å¸®åŠ©æ‰‹å†Œ',
icon: 'question',
lock: true,
content: 'è¿™é‡Œçš„â€œä½¿ç”¨æ¬¡æ•°â€ä»…ä»…æ˜¯æœåŠ¡æ¥å£çš„è°ƒç”¨æ¬¡æ•°ï¼Œ<b style="color:red;">å¹¶ä¸æ˜¯æ‚¨å®é™…çš„çŸ­ä¿¡ä½¿ç”¨é‡ï¼?/b>',
yesText: 'çŸ¥é“äº?,
yesFn: true
});
}
</script>
{template @admin/footer}