<!--{template @admin/header}--> <form id="form" action="?mod=image&code=watermark&op=save" method="post" enctype="multipart/form-data"> <table cellspacing="1" cellpadding="4" width="100%" align="center" class="tableborder"> <tr class="header"> <td colspan="2">
å›¾ç‰‡æ°´å°è®¾ç½®
</td> </tr> <tr> <td width="10%" class="td_title">æ°´å°ç±»å‹</td> <td> <select id="wm-type-select" name="data[type]" onchange="wm_type_dsp_render()"> <option value="image" {if $cfg['type']=='image'}selected="selected"{/if}>å›¾ç‰‡</option> <option value="text" {if $cfg['type']=='text'}selected="selected"{/if}>æ–‡å­—</option> </select> </td> </tr> <tr class="tr-for-image" style="display:none;"> <td class="td_title">å½“å‰æ°´å°ï¼?/td> <td> <img src="{$cfg['image']}?{echo time()}" /> <input name="data[image]" type="hidden" value="{$cfg['image']}" /> </td> </tr> <tr class="tr-for-image" style="display:none;"> <td width="10%" class="td_title">æ›¿æ¢æ°´å°ï¼?/td> <td> <input name="file" type="file" />
* ä¸æ›¿æ¢è¯·ç•™ç©º
</td> </tr> <tr class="tr-for-text" style="display:none;"> <td class="td_title">æ°´å°æ–‡å­—ï¼?/td> <td> <input name="data[text]" type="text" value="{$cfg['text']}" size="60" /> </td> </tr> <tr class="tr-for-text" style="display:none;"> <td class="td_title">å­—ä½“æ–‡ä»¶ï¼?/td> <td> <input name="data[font]" type="text" value="{$cfg['font']}" /> </td> </tr> <tr class="tr-for-text" style="display:none;"> <td class="td_title">å­—ä½“å¤§å°ï¼?/td> <td> <input name="data[fontsize]" type="text" value="{$cfg['fontsize']}" /> </td> </tr> <tr class="tr-for-text" style="display:none;"> <td class="td_title">è¯´æ˜ï¼?/td> <td>
1. å¯ç”¨æ–‡å­—æ°´å°åŠŸèƒ½æ‚¨çš„æœåŠ¡å™¨å¿…é¡»æ”¯æŒimagettftextå‡½æ•°å’Œmb_convert_encodingå‡½æ•°å¹¶ä¸”ä¸Šä¼ äº†TrueTypeå­—ä½“<br/>
2. å­—ä½“æ–‡ä»¶éœ€è¦ä¸Šä¼ åˆ°<b>/static/images/watermark/</b>ç›®å½•ä¸?br/>
3. å¦‚æœæ‚¨ä¸Šä¼ çš„å­—ä½“æ–‡ä»¶åä¸ºfont.ttfï¼Œå°±åœ¨ä¸Šé¢å¡«å†™font.ttfï¼Œå¡«å†™é”™è¯¯æˆ–è€…å­—ä½“æ–‡ä»¶ä¸å­˜åœ¨æ—¶æ˜¯æ²¡æ³•ç”Ÿæˆæ–‡å­—æ°´å°çš?br/>
4. {if function_exists('imagettftext') && function_exists('mb_convert_encoding')}æ‚¨çš„ç¯å¢ƒæ”¯æŒæ–‡å­—æ°´å°{else}ç³»ç»Ÿæ£€æµ‹æ‚¨çš„ç¯å¢ƒç¼ºå¤±å‡½æ•°ï¼Œæ— æ³•è®¾ç½®æ–‡å­—æ°´å°{/if}
</td> </tr> <tr> <td class="td_title">æ³¨æ„ï¼?/td> <td>
å½“æ‚¨çš„æ°´å°å›¾ç‰‡å®½åº¦æˆ–è€…æ°´å°æ–‡å­—å®½åº¦å¤§äºåŸå›¾å®½åº¦æ—¶æ˜¯ä¸ä¼šæˆåŠŸæ·»åŠ æ°´å°çš„ï¼Œæ‚¨å¯ä»¥é€‚å½“çš„ç¼©å°æ°´å°å›¾ç‰‡çš„å®½åº¦ï¼Œå‡å°‘æ°´å°æ–‡å­—ä¸ªæ•°æˆ–è€…è°ƒä½å­—ä½“å¤§å°?</td> </tr> <tr> <td class="td_title">æ°´å°ä½ç½®ï¼?/td> <td> <select name="data[position]"> <option value="1" {if $cfg['position']==1}selected="selected"{/if}>å·¦ä¸Š</option> <option value="2" {if $cfg['position']==2}selected="selected"{/if}>å·¦ä¸‹</option> <option value="3" {if $cfg['position']==3}selected="selected"{/if}>å³ä¸Š</option> <option value="4" {if $cfg['position']==4}selected="selected"{/if}>å³ä¸‹</option> </select> </td> </tr> <tr> <td class="td_title">æ˜¯å¦å¯ç”¨ï¼?/td> <td> <label>
æ˜?nbsp;
<input name="data[enabled]" type="radio" value="true" {if $cfg['enabled']=='true'}checked="checked"{/if} /> </label>
&nbsp;&nbsp;&nbsp;
<label>
å?nbsp;
<input name="data[enabled]" type="radio" value="false" {if $cfg['enabled']=='false'}checked="checked"{/if} /> </label> </td> </tr> <tr> <td></td> <td> <input type="submit" value="ä¿å­˜" class="button" /> <input type="button" value="æµ‹è¯•" class="button" onclick="submit_test()" /> </td> </tr> </table> </form> <script type="text/javascript">
function submit_test()
{
$('#form').attr('action', '?mod=image&code=watermark&op=save_test').submit();
}
function wm_type_dsp_render()
{
var type = $('#wm-type-select').val();
if (type == 'image')
{
$('.tr-for-text').hide();
$('.tr-for-image').show();
}
else
{
$('.tr-for-image').hide();
$('.tr-for-text').show();
}
}
$(document).ready(function(){wm_type_dsp_render()});
</script> <!--{template @admin/footer}-->